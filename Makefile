TARGETS = exploitme1 exploitme2 exploitme3

.PHONY: all
all: $(TARGETS)

.PHONY: clean
clean:
	rm -f $(TARGETS)

# This is just to show the "stack smashing detected" problem
exploitme1: exploitme1.c
	$(CC) -g $< -o $@

exploitme2.c: exploitme1.c
	cp $< $@

exploitme2: exploitme2.c
	$(CC) -g -fno-stack-protector $< -o $@

exploitme3.c: exploitme1.c
	cp $< $@

exploitme3: exploitme3.c
	$(CC) -g -fno-stack-protector -z execstack $< -o $@
