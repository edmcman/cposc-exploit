#include <stdio.h>
#include <string.h>

#define BUFSIZE 1<<7
#define XVAL 0x42424242

void read_input() {

    char buffer[BUFSIZE];
    int x = XVAL;

    printf("Tell me a message and I will say it back to you.\n");

    // Read a line of input into 'buffer'
    gets(buffer);

    printf("You said: %s, which is located at address %p and has length %lu.\n", buffer, &buffer, strlen(buffer));
    printf("The size of buffer is %i bytes.\n", BUFSIZE);

    if (strlen(buffer) > BUFSIZE) {
        printf("You have overflowed the buffer.  Oh no!\n");
    }

    if (x != XVAL) {
        printf("x has value %#x instead of %#x\n", x, XVAL);
    }
}

void goal_function() {
    printf("If you caused the program to call this function, you win!\n");
}

int main() {

    read_input();

    return 0;
}